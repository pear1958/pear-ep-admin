import{d as y,bt as N,x as S,o as k,a as $,O as o,bJ as c,bL as T,A as s,bB as x,l as _,b as g,av as V,u as d,aZ as C,bc as M,c_ as E,ch as O,z as A,T as F,N as v,aV as B,y as U,a9 as z,a_ as I}from"./index-iSRBwhZQ.js";const J={key:1,class:"title"},L=v("取消"),P=v("确认"),W=y({name:"Dialog"}),w=y({...W,props:{visible:{type:Boolean,default:!1},title:{type:String,default:""},closeOnClickMask:{type:Boolean,default:!0},alignCenter:{type:Boolean,default:!1},width:{type:[String,Number],default:800},top:{type:[String,Number],default:130},handleOk:{type:Function},cancel:{type:Function}},emits:["update:visible"],setup(l,{emit:a}){const e=l,u=N(),p=S(()=>({minWidth:e.width+"px",top:e.top+"px",...e.alignCenter?{top:"50%",transform:"translate(-50%, -50%)"}:{}})),n=()=>{a("update:visible",!1)},m=()=>{e.closeOnClickMask&&n()},t=()=>{e.cancel&&e.cancel(),n()},r=()=>{e.handleOk&&e.handleOk(),n()};return(i,f)=>(k(),$(F,{to:"body"},[o(_,{name:"fade"},{default:c(()=>[T(s("div",{class:"dialog-mask",onClick:m},null,512),[[x,l.visible]])]),_:1}),o(_,{name:l.alignCenter?"dialog-y":"dialog"},{default:c(()=>[l.visible?(k(),g("div",V({key:0,class:"dialog",style:d(p)},i.$attrs),[s("header",null,[d(u).title?C(i.$slots,"title",{key:0}):(k(),g("span",J,M(l.title),1)),s("span",{class:"close-icon",onClick:n},[o(d(E),{icon:"ep:close"})])]),s("main",null,[C(i.$slots,"content")]),s("footer",null,[o(d(O),{onClick:t},{default:c(()=>[L]),_:1}),o(d(O),{type:"primary",onClick:r},{default:c(()=>[P]),_:1})])],16)):A("",!0)]),_:3},8,["name"])]))}}),Z=l=>{const{title:a,content:e,closeOnClickMask:u,alignCenter:p,width:n,top:m,handleOk:t,cancel:r}=l,i=()=>{b.value=!1,setTimeout(()=>{h.unmount(),f.remove()},200)},f=document.createElement("div");document.body.appendChild(f);const b=B(!1);setTimeout(()=>{b.value=!0},0);const h=U({render(){return z(w,{visible:b.value,"onUpdate:visible":D=>{D||i()},closeOnClickMask:u,alignCenter:p,width:n,top:m,handleOk:t,cancel:r},{title:()=>a,content:()=>e})}});h.mount(f)},j=Z,q={class:"bg-white dark:bg-dark p-4"},G={class:"mt-4"},K=y({__name:"dialog",setup(l){const a=B(!1),e=()=>{a.value=!0},u=()=>(console.log("确认"),!0),p=()=>{console.log("取消")},n=()=>{j({title:"标题",content:"这里是内容",visible:!0,handleOk:()=>{console.log("确认")},cancel:()=>{console.log("取消")}})};return(m,t)=>{const r=I("el-button");return k(),g("div",q,[o(r,{type:"primary",onClick:e},{default:c(()=>t[1]||(t[1]=[v("打开对话框")])),_:1}),s("div",G,[o(r,{type:"primary",onClick:n},{default:c(()=>t[2]||(t[2]=[v("函数式调用对话框")])),_:1})]),o(d(w),{visible:a.value,"onUpdate:visible":t[0]||(t[0]=i=>a.value=i),title:"测试标题",handleOk:u,cancel:p},{content:c(()=>t[3]||(t[3]=[s("p",null,"第一行",-1),s("p",null,"第二行",-1)])),_:1},8,["visible"])])}}});export{K as default};
